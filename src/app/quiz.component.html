<div class="quiz-layout">
  <!-- Sidebar: range selector -->
  <aside class="sidebar">
    <h3>Range Selector</h3>
    <label>
      From:
      <input type="number" [(ngModel)]="startNumber" min="1">
    </label>
    <label>
      To:
      <input type="number" [(ngModel)]="endNumber" [min]="startNumber || 1">
    </label>
    <button (click)="applyRange()">Apply Range</button>
    <button (click)="resetQuiz()">Reset Full Quiz</button>
  </aside>

  <!-- Main: active question -->
  <main class="quiz-main" *ngIf="question">
    <p><strong>Progress:</strong> Question {{ currentIndex }} / {{ questions.length }}</p>
    <h2>Question:</h2>
    <p>{{ question.number }}. {{ question.question }}</p>

    <button (click)="showAnswer = true" *ngIf="!showAnswer">Show Answer</button>
    <p *ngIf="showAnswer"><strong>Answer:</strong> {{ question.answer }}</p>

    <div class="answer-buttons">
      <button (click)="markCorrect()">✅ I got it right</button>
      <button (click)="markIncorrect()">❌ I got it wrong</button>
    </div>
  </main>

  <!-- Main: quiz completed -->
  <main class="quiz-main" *ngIf="!question && questions.length > 0">
    <h3>Quiz Completed</h3>
    <p>You answered <strong>{{ getScore() }}</strong> correctly.</p>
    <button (click)="applyRange()">Restart Range</button>
    <button (click)="resetQuiz()">Reset Full Quiz</button>
  </main>

  <!-- Footer: list of all questions -->
  <section class="question-list" *ngIf="questions.length > 0">
    <h3>Questions in this set</h3>
    <ul>
      <li *ngFor="let q of questions; let i = index"
          [ngClass]="getQuestionStatus(i)">
        {{ q.number }}. {{ q.question }}. {{ q.answer }}
        <span *ngIf="q.userAnswerStatus === 'correct'">✅</span>
        <span *ngIf="q.userAnswerStatus === 'incorrect'">❌</span>
      </li>
    </ul>
  </section>
</div>
